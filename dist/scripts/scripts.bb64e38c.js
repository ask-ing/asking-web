"use strict";angular.module("askingWebApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap"]).config(["$httpProvider","$routeProvider",function(a,b){a.defaults.useXDomain=!0,a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",b.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("askingWebApp").constant("askingUrl","https://asking.herokuapp.com/answer").controller("MainCtrl",["$scope","$resource","$sce","askingUrl",function(a,b,c,d){function e(){return angular.isUndefined(i)&&(i=b(d)),i}function f(a){return!!a.userInput}function g(d){d.questions.length&&(angular.forEach(a.model.questions,function(b){a.model.answers.push(b)}),a.model.questions.length=0,angular.forEach(d.questions,function(b){b.parameterName?a.model.questions.push(b):b.question&&(b.question=c.trustAsHtml(b.question),a.model.answers.push(b))})),d.contextUrl&&(i=b(d.contextUrl)),a.model.questions.length||e().get(g)}function h(a){return a.filter(function(a){return!a.done}).shift()}var i;a.reset=function(){i=void 0,e().get(function(b){a.model={questions:b.questions,answers:[]}})},a.ask=function(){var b=a.model.questions,c={},d=h(b);d&&(d.done=f(d),d.warning=!d.done&&d.errorMessageForWrongInput,d.done&&(c[d.parameterName||"query"]=d.userInput)),h(b)||(angular.forEach(b,function(a){c[a.parameterName||"query"]=a.userInput}),e().save(null,$.param(c),g))},a.reset()}]);